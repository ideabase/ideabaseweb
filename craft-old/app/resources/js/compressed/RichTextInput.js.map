{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","assetSources","elementLocale","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","initRedactor","livePreview","on","proxy","core","destroy","mergeCallbacks","callback1","callback2","apply","arguments","toolbarFixed","target","closest","toolbarFixedTarget","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","scrollPageOnReady","$doc","ready","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","locale","kind","onSelect","assets","transform","restore","asset","url","insert","node","imageTag","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","$placeholder","addAfter","$btn","build","icon","parent","after","append","jQuery"],"mappings":"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","file":"RichTextInput.js"}