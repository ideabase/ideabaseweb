var plugin=$.extend({},Craft.Redactor.PluginBase,{start:function(){},showModal:function(arguments){this.app.selection.isCollapsed()?(this.app.selection.save(),this.app.selectionMarkers=!1):(this.app.selection.saveMarkers(),this.app.selectionMarkers=!0);var e="selectionModal_"+arguments.refHandle;if(void 0===this[e]){var r=arguments.refHandle;this[e]=Craft.createElementSelectorModal(arguments.elementType,{storageKey:"RedactorInput.LinkTo."+arguments.elementType,sources:arguments.sources,criteria:$.extend({siteId:this.elementSiteId},arguments.criteria),onSelect:$.proxy(function(e){if(e.length){this.app.selectionMarkers?this.app.selection.restoreMarkers():this.app.selection.restore(),this.app.selectionMarkers=!1;var t=e[0],i=this.app.selection.getText(),s={url:t.url+"#"+r+":"+t.id,text:0<i.length?i:t.label};this.app.api("module.link.insert",s)}},this),closeOtherModals:!1})}else this[e].show()},setLinkOptions:function(e){var t=this.app.toolbar.getButton("link"),i=t.getDropdown().items,s={},r=0;for(var a in e)a=e[a],s["custom"+ ++r]={title:a.optionTitle,api:"plugin.craftEntryLinks.showModal",args:{elementType:a.elementType,refHandle:a.refHandle,sources:a.sources,criteria:a.criteria}};t.setDropdown($.extend(s,i))}});Redactor.add("plugin","craftEntryLinks",plugin);
//# sourceMappingURL=CraftEntryLinks.min.js.map
