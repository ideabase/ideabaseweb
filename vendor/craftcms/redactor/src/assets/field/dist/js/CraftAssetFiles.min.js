var plugin=$.extend({},Craft.Redactor.PluginBase,{title:"file",apiTarget:"plugin.craftAssetFiles.showModal",icon:'<i class="re-icon-file"></i>',volumes:null,showModal:function(){if(this.app.selection.isCollapsed()?(this.app.selection.save(),this.app.selectionMarkers=!1):(this.app.selection.saveMarkers(),this.app.selectionMarkers=!0),void 0===this.assetSelectionModal){arguments.refHandle;this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"RedactorInput.LinkToAsset",sources:this.volumes,criteria:{siteId:this.elementSiteId},onSelect:$.proxy(function(e){if(e.length){this.app.selectionMarkers?this.app.selection.restoreMarkers():this.app.selection.restore(),this.app.selectionMarkers=!1;var s=e[0],t=this.app.selection.getText(),i={url:s.url+"#asset:"+s.id,text:0<t.length?t:s.label};this.app.api("module.link.insert",i)}},this),closeOtherModals:!1})}else this.assetSelectionModal.show()},setVolumes:function(e){this.volumes=e}});Redactor.add("plugin","craftAssetFiles",plugin);
//# sourceMappingURL=CraftAssetFiles.min.js.map
